<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Forecast probabilities of smoking initiation, quitting and relapse  — quit_forecast • smktrans</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Forecast probabilities of smoking initiation, quitting and relapse  — quit_forecast" />
<meta property="og:description" content="Forecasts the period trends in the probabilities of smoking initiation, quitting and relapse
by age, sex and IMD quintile. This function was designed originally to forecast just 
the probabilities of quitting but has since been extended to forecast initiation and relapse 
probabilities too." />
<meta property="og:image" content="https://stapm.gitlab.io/r-packages/smktrans/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-167990045-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-167990045-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">smktrans</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/smktrans.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/index.html">Technical documentation</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://gitlab.com/stapm/r-packages/smktrans">
    <span class="fab fa-gitlab fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://stapm.gitlab.io/software.html">
    <span class="fas fa-code"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Forecast probabilities of smoking initiation, quitting and relapse <a href='https://lifecycle.r-lib.org/articles/stages.html#maturing'><img src='figures/lifecycle-maturing.svg' alt='[Maturing]' /></a></h1>
    
    <div class="hidden name"><code>quit_forecast.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Forecasts the period trends in the probabilities of smoking initiation, quitting and relapse
by age, sex and IMD quintile. This function was designed originally to forecast just 
the probabilities of quitting but has since been extended to forecast initiation and relapse 
probabilities too.</p>
    </div>

    <pre class="usage"><span class='fu'>quit_forecast</span><span class='op'>(</span>
  <span class='va'>data</span>,
  <span class='va'>forecast_var</span>,
  forecast_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"continuing"</span>, <span class='st'>"stationary"</span><span class='op'>)</span>,
  cont_limit <span class='op'>=</span> <span class='cn'>NULL</span>,
  oldest_year <span class='op'>=</span> <span class='fl'>2003</span>,
  youngest_age <span class='op'>=</span> <span class='fl'>11</span>,
  oldest_age <span class='op'>=</span> <span class='fl'>88</span>,
  first_year <span class='op'>=</span> <span class='fl'>2010</span>,
  jump_off_year <span class='op'>=</span> <span class='fl'>2015</span>,
  time_horizon <span class='op'>=</span> <span class='fl'>2050</span>,
  k_smooth_age <span class='op'>=</span> <span class='fl'>3</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>Data table containing the probabilities to be forecast.</p></td>
    </tr>
    <tr>
      <th>forecast_var</th>
      <td><p>Character - the name of the probability variable to be forecast.</p></td>
    </tr>
    <tr>
      <th>forecast_type</th>
      <td><p>Character - whether to apply the estimated 
rates of proportional change ("continuing")
or to keep the forecast variable constant at its last observed value ("stationary").</p></td>
    </tr>
    <tr>
      <th>cont_limit</th>
      <td><p>Integer - the year at which a continuing forecast becomes constant.</p></td>
    </tr>
    <tr>
      <th>oldest_year</th>
      <td><p>Integer - the oldest year of data we have. Default is set to 2003 for England.</p></td>
    </tr>
    <tr>
      <th>youngest_age</th>
      <td><p>Integer - the youngest age we have in the data. 
Default is set to 11 for England.</p></td>
    </tr>
    <tr>
      <th>oldest_age</th>
      <td><p>Integer - the oldest age we have in the data - set to 88 for quitting and relapse 
and 30 for initiation.</p></td>
    </tr>
    <tr>
      <th>first_year</th>
      <td><p>Integer - the first year of data.</p></td>
    </tr>
    <tr>
      <th>jump_off_year</th>
      <td><p>Integer - the last year of data.</p></td>
    </tr>
    <tr>
      <th>time_horizon</th>
      <td><p>Integer - the last year of the forecast period.</p></td>
    </tr>
    <tr>
      <th>k_smooth_age</th>
      <td><p>Integer - the degree of smoothing to apply to the age pattern of change. 
If zero, then no smoothing is applied.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a data.table containing the observed and forecast data.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The forecast is based on applying a Singular value decomposition (SVD)
to the logit transformed matrix of quit probabilities by
age and year for each subgroup.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>

<span class='va'>forecast_data</span> <span class='op'>&lt;-</span> <span class='fu'>quit_forecast</span><span class='op'>(</span>
  data <span class='op'>=</span> <span class='fu'>copy</span><span class='op'>(</span><span class='va'>quit_data</span><span class='op'>)</span>,
  forecast_var <span class='op'>=</span> <span class='st'>"quit_prob"</span>,
  forecast_type <span class='op'>=</span> <span class='st'>"continuing"</span>,
  first_year <span class='op'>=</span> <span class='fl'>2010</span>,
  jump_off_year <span class='op'>=</span> <span class='fl'>2015</span>,
  time_horizon <span class='op'>=</span> <span class='fl'>2030</span>
<span class='op'>)</span>

<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.sheffield.ac.uk/scharr/sections/heds/staff/gillespie_d'>Duncan Gillespie</a>, Laura Webster, <a href='https://www.sheffield.ac.uk/scharr/sections/heds/staff/brennan_a'>Alan Brennan</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


